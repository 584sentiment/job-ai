# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 项目概述

求职追踪助手是一款专为求职人员打造的微信小程序工具，聚焦"岗位记录-进度追踪-面经收集-面试总结"全流程求职管理。

**当前状态**: 项目处于早期规划阶段，已完成产品需求文档和页面原型设计，尚未开始实际开发。

## 参考文档

### 产品需求文档 (PRD)
- **文件**: `求职追踪助手微信小程序产品需求文档（PRD）.md`
- **内容**: 完整的产品功能需求、用户痛点分析、核心功能定义

### 页面原型设计
- **目录**: `job-ui/` - Web 版页面原型 (用于设计参考)
  - `index.html` - 岗位列表首页
  - `add-job.html` - 添加岗位页面
  - `job-detail.html` - 岗位详情页面
  - `interviews.html` - 面试管理页面
  - `summaries.html` - 面试总结页面
  - `profile.html` - 个人中心页面
- **文件**: `ai-prototype.html` - AI 助手交互原型

**注意**: 这些 HTML 文件仅为设计参考原型，展示 UI/UX 设计思路，并非项目实际源代码。

## 核心功能模块

根据 PRD 文档定义，项目包含以下核心功能：

### 1. 岗位管理
- 快速录入岗位信息（公司、岗位、渠道、地点、薪资等）
- JD 文本粘贴保存
- 投递状态管理（待投递、已投递、面试中、已录用、已拒绝等）
- 岗位列表筛选与搜索
- 岗位详情查看与编辑

### 2. 面试管理
- 面试安排记录（时间、地点、形式、联系人）
- 面试倒计时提醒
- 面试进度时间线
- 面试结果记录

### 3. 面经管理
- 面经录入与分类（按公司、岗位类型）
- 面经搜索与收藏
- 面经分享功能（支持匿名发布）
- 面经与岗位关联

### 4. 面试总结
- 结构化总结记录（问题、不足、改进方向）
- 关键词标签
- 总结与面试轮次关联
- 总结搜索与复用

### 5. 个人中心
- 用户信息管理
- 数据统计展示（投递数、面试数、面经数等）
- 内容管理入口
- 系统设置

## 设计规范参考

从页面原型中提取的设计规范（供实际开发时参考）：

### 色彩方案
- **主色调**: 蓝色系 (#2563EB, #3B82F6)
- **强调色**: 橙色 (#F97316)
- **背景色**: 浅灰 (#F8FAFC)
- **文字色**: 深灰 (#1E293B)

### AI 功能视觉特征
- **主题色**: 紫色渐变 (#6366F1 → #8B5CF6)
- **特效**: 微光动画、思考动画
- **用途**: 区分 AI 增强功能与常规功能

### 交互模式
- 玻璃态卡片效果
- Tab 切换布局
- 浮动操作按钮
- 状态标签展示

## 查看原型设计

如需查看页面原型设计，可在浏览器中打开对应的 HTML 文件：

```bash
# macOS
open job-ui/index.html
open ai-prototype.html

# Windows
start job-ui\index.html
start ai-prototype.html

# Linux
xdg-open job-ui/index.html
xdg-open ai-prototype.html
```

或启动本地服务器（支持跨页面导航）：

```bash
# Python
python3 -m http.server 8000

# Node.js
npx http-server -p 8000

# 然后访问 http://localhost:8000/job-ui/
```

## 文档规范

### 文档组织结构
项目文档统一存放在 `/docs/` 目录下，按类别组织：

- **`/docs/arch-design.md`** - 架构设计文档
- **`/docs/dev-progress.md`** - 开发进度文档
- **`/docs/bug-fix.md`** - 问题修复日志

### 文档更新规则

1. **设计相关内容** → 更新到 `/docs/arch-design.md`
   - 架构设计决策
   - 技术方案选型
   - 系统设计文档
   - 每次更新需标注更新时间

2. **开发进度内容** → 更新到 `/docs/dev-progress.md`
   - 功能开发进度
   - 里程碑完成情况
   - 待办事项列表
   - 每次更新需标注更新时间

3. **问题修复内容** → 更新到 `/docs/bug-fix.md`
   - Bug 描述及复现步骤
   - 问题根因分析
   - 解决方案记录
   - 每次更新需标注更新时间

4. **控制新增文档**
   - 尽量不随意添加新的文档文件
   - 优先使用现有的三个文档文件
   - 保持文档结构简洁

5. **新增文档流程**
   - 必要时先询问用户是否可以添加新文档
   - 说明添加理由和文档用途
   - 获得用户同意后再创建

### 文档格式要求

- 每次更新添加更新日志（日期 + 变更说明）
- 使用清晰的章节结构
- 重要内容使用代码块或列表突出
- 保持简洁，避免冗余

## 开发前准备

在开始实际开发前，请先：

1. **阅读完整 PRD 文档** - 了解详细的产品需求和功能定义
2. **查看页面原型** - 理解 UI/UX 设计思路和交互模式
3. **确定技术栈** - 选择合适的技术栈（如：原生微信小程序、Taro + React、uni-app 等）
4. **搭建项目架构** - 根据选定的技术栈初始化项目结构
5. **API 设计** - 设计后端 API 接口（或选择本地存储方案）

## 技术方案

本项目采用以下技术方案：

- **前端框架**: 原生微信小程序（WXML + WXSS + JavaScript）
- **数据存储**: 微信小程序本地存储（wx.setStorage/wx.getStorage）
- **UI设计**: 基于 `prototype/` 目录的 AI 版可交互原型
- **开发模式**: 纯前端开发，AI 功能为模拟响应（为后续接入真实 API 做准备）

## 开发流程规范

### 1. Git 版本控制规范

#### 1.1 初始化 Git 仓库
如果项目未配置 Git，则首先初始化：

```bash
git init
git add .
git commit -m "feat: 项目初始化"
```

#### 1.2 Git 提交规范
每个功能实现完成之后必须进行 commit。

**Commit Message 格式**：
```
<开发阶段>/<页面>/<功能>: <简要描述>
```

**示例**：
- `feat: 阶段一-框架/通用/job-card组件: 实现岗位卡片组件`
- `feat: 阶段二-核心页/首页/岗位列表: 实现岗位列表展示和筛选功能`
- `feat: 阶段三-辅助页/AI助手/对话界面: 实现AI助手对话界面和思考动画`
- `fix: 阶段二-核心页/添加岗位/表单验证: 修复表单验证问题`

**Commit 类型**：
- `feat`: 新功能
- `fix`: Bug 修复
- `refactor`: 代码重构
- `style`: 样式调整
- `docs`: 文档更新
- `test`: 测试相关
- `chore`: 构建/工具链相关

### 2. 功能开发规范

#### 2.1 按计划开发
严格按照第八部分"开发计划与优先级"中的顺序进行开发，每个阶段完成后再进入下一阶段。

#### 2.2 功能完成标准
每个功能被视为"完成"需要满足：
1. ✅ 功能实现完整，符合设计文档要求
2. ✅ 代码已 commit 到 Git 仓库
3. ✅ `/docs/` 下对应文档已更新
4. ✅ 基本测试通过，无明显错误

#### 2.3 检查清单
每个功能完成之后，执行以下检查：

- [ ] 代码已实现所有功能点
- [ ] 代码已 commit（使用规范的 commit message）
- [ ] 更新 `/docs/dev-progress.md`（记录功能完成情况）
- [ ] 如有设计变更，更新 `/docs/arch-design.md`
- [ ] 如遇到问题，记录到 `/docs/bug-fix.md`
- [ ] 检查是否符合开发计划中的当前阶段要求
- [ ] 确认无遗漏功能后，继续下一个功能开发

### 3. 项目完成检查清单

**所有功能开发完成后**，必须执行以下检查：

#### 3.1 编译与类型检查
- [ ] 项目能够正常编译/构建
- [ ] 无 TypeScript 类型错误（如使用 TypeScript）
- [ ] 无 ESLint 语法错误
- [ ] 无微信小程序开发者工具报错

#### 3.2 功能完整性检查
- [ ] 所有页面均可正常访问
- [ ] 所有核心功能均已实现
- [ ] AI 功能模拟响应正常
- [ ] 数据存储读写正常

#### 3.3 交互联通性检查
- [ ] 页面跳转路由正常
- [ ] Tab 切换功能正常
- [ ] 表单提交后数据流转正常
- [ ] 搜索/筛选功能联动正常
- [ ] 详情页数据展示正确
- [ ] 操作按钮（编辑/删除/添加）响应正常
- [ ] Toast 提示显示正常
- [ ] 空状态页面显示正常

#### 3.4 兼容性测试
- [ ] 微信开发者工具预览正常
- [ ] 真机预览功能正常（iOS）
- [ ] 真机预览功能正常（Android）
- [ ] 不同屏幕尺寸适配正常

### 4. 文档更新规范

#### 4.1 开发进度文档（`/docs/dev-progress.md`）
每个功能完成后，添加以下内容：

```markdown
## [YYYY-MM-DD] 功能完成记录

### 阶段X - [阶段名称]

#### 完成功能
- [x] [页面名称] - [功能描述]
- [x] [页面名称] - [功能描述]

#### 下一步计划
- [ ] [下一阶段/功能名称]

#### 遇到的问题
（如有问题，在此记录）
```

#### 4.2 架构设计文档（`/docs/arch-design.md`）
如有设计变更或技术决策，添加更新记录：

```markdown
## [YYYY-MM-DD] 设计变更

### 变更内容
- [变更描述]

### 变更原因
- [原因说明]

### 影响范围
- [影响的功能模块]
```

#### 4.3 问题修复日志（`/docs/bug-fix.md`）
如有 Bug 修复，记录：

```markdown
## [YYYY-MM-DD] Bug 修复

### 问题描述
- [Bug 描述及复现步骤]

### 根因分析
- [问题原因]

### 解决方案
- [修复方法]

### 验证结果
- [✅ 修复验证通过]
```

### 5. 开发工作流

```
开始开发
    ↓
[检查 Git 是否初始化] → 否 → git init
    ↓ 是
读取开发计划
    ↓
选择当前阶段任务
    ↓
实现功能代码
    ↓
[功能测试]
    ↓
[Git Commit] → 使用规范 commit message
    ↓
[更新文档] → /docs/dev-progress.md
    ↓
[检查是否有遗漏功能]
    ↓ 是 → 继续下一个功能
    ↓ 否
[所有功能是否完成?]
    ↓ 否 → 返回选择任务
    ↓ 是
[编译/类型检查]
    ↓
[交互联通性检查]
    ↓
[项目完成]
```

### 6. 注意事项

1. **代码质量**
   - 遵循微信小程序官方编码规范
   - 代码注释清晰，便于维护
   - 变量命名规范（驼峰命名法）
   - 组件化开发，复用性优先

2. **性能优化**
   - 避免频繁的 setData 操作
   - 长列表使用虚拟列表或分页
   - 图片资源压缩优化
   - 合理使用缓存

3. **用户体验**
   - 加载状态有 loading 提示
   - 操作失败有错误提示
   - 空状态有友好提示
   - 交互反馈及时

4. **AI 功能模拟**
   - 所有 AI 功能调用需有 loading 状态
   - 模拟响应延迟 1-2 秒，模拟真实感
   - 错误情况有降级处理
   - 为后续接入真实 API 预留接口
